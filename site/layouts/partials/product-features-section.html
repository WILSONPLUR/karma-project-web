<section
  class="overflow-hidden relative h-[776px] md:h-[490px] pt-[43px] md:pt-[75px]"
  aria-labelledby="features-heading"
>
  <!-- Background image -->
  <div class="absolute inset-0">
    {{ $benefitsBg := resources.Get "img/benefits-bg.png" }} {{ if $benefitsBg
    }} {{ $benefitsBgProcessed := $benefitsBg.Resize "1440x webp q80" }}
    <img
      src="{{ $benefitsBgProcessed.RelPermalink }}"
      alt=""
      aria-hidden="true"
      class="object-cover w-full h-full"
    />
    {{ else }}
    <img
      src="/img/benefits-bg.png"
      alt=""
      aria-hidden="true"
      class="object-cover w-full h-full"
    />
    {{ end }}
  </div>

    <div class="w-full max-w-[1440px] mx-auto relative z-[2] px-[clamp(20px,4vw,40px)]">
        <div class="relative mb-[clamp(32px,6vw,80px)] text-center">
            <h2 id="features-heading"
                class="mb-[clamp(24px,4vw,48px)] text-[clamp(20px,4vw,60px)] font-bold text-white uppercase font-unbounded">
                ОСОБЛИВОСТІ
            </h2>

      <div
        class="hidden absolute top-10 md:block left-[calc(41%-224px-40px)] lg:left-[calc(35%-224px-40px)]"
      >
        <img
          src="/img/line-left.svg"
          alt=""
          aria-hidden="true"
          class="w-32 h-[76px] md:w-[130px] lg:w-[183px]"
        />
      </div>

      <div
        class="hidden absolute left-1/2 transform -translate-x-1/2 xl:top-23 lg:top-20 md:top-13 md:block"
      >
        <img
          src="/img/line-center.svg"
          alt=""
          aria-hidden="true"
          class="w-8 h-12 md:w-12 md:h-[52px] lg:w-16 lg:h-[52px]"
        />
      </div>

      <div
        class="hidden absolute top-10 md:block right-[calc(41%-224px-40px)] lg:right-[calc(35%-224px-40px)]"
      >
        <img
          src="/img/line-right.svg"
          alt=""
          aria-hidden="true"
          class="w-32 h-[76px] md:w-[130px] lg:w-[183px]"
        />
      </div>
    </div>
    <div
      class="grid relative grid-cols-1 gap-[67px] md:grid-cols-3 lg:grid-cols-3 md:gap-[28px] lg:gap-[67px]"
      role="list"
      aria-label="Особливості політного стеку KARMA F405 V1"
    >
      <!-- Features -->
      <article class="text-center relative z-[3]" role="listitem">
        <h3
          class="mb-[20px] text-[clamp(20px,2vw,24px)] font-bold text-white font-['Montserrat'] feature-title flex items-center justify-center"
        >
          Висока продуктивність
        </h3>
        <p
          class="mx-auto max-w-[min(400px,85vw)] text-[clamp(16px,2vw,20px)] font-normal leading-[100%] text-white font-['Montserrat']"
        >
          Сучасні контролери польоту оснащені потужними мікроконтролерами
          (наприклад, F4, F7, H7), які здатні обробляти дані з датчиків з
          високою частотою.
        </p>
      </article>

      <!-- Feature 2 -->
      <article class="text-center relative z-[3]" role="listitem">
        <h3
          class="mb-[20px] text-[clamp(20px,2vw,24px)] font-bold text-white font-['Montserrat'] feature-title flex items-center justify-center whitespace-nowrap"
        >
          Гнучкість у налаштуваннях
        </h3>
        <p
          class="mx-auto max-w-[min(400px,85vw)] text-[clamp(16px,2vw,20px)] font-normal leading-[100%] text-white font-['Montserrat']"
        >
          Можливість налаштовувати PID-коефіцієнти, фільтри, режими польоту,
          відео стабілізацію, GPS-режими, функцію OSD (On-Screen Display) та
          багато іншого. Оптимізувати поведінка дрона.
        </p>
      </article>

      <!-- Feature 3-->
      <article class="text-center relative z-[3]" role="listitem">
        <h3
          class="mb-[20px] text-[clamp(20px,2vw,24px)] font-bold text-white font-['Montserrat'] feature-title flex items-center justify-center"
        >
          Легке встановлення
        </h3>
        <p
          class="mx-auto max-w-[min(400px,85vw)] text-[clamp(16px,2vw,20px)] font-normal leading-[100%] text-white font-['Montserrat']"
        >
          Політні стеки об'єднують контролер польоту та ESC на одній платі або в
          єдиному модулі. Це значно зменшує кількість проводів, спрощує монтаж
          та зменшує загальну вагу та розмір системи.
        </p>
      </article>
    </div>
  </div>
</section>

<style>
  .feature-title {
    font-variant: small-caps;
  }

    @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(30px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .hero-title {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
  }

  .hero-title.animate {
    animation: fadeInUp 0.8s ease-out forwards;
  }
</style>


<script>
  // Hero title animation
  function animateHeroTitle() {
    const heroTitles = document.querySelectorAll('.hero-title');

    const observerOptions = {
      threshold: 0.3,
      rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate');
        } else {
          entry.target.classList.remove('animate');
        }
      });
    }, observerOptions);

    heroTitles.forEach(title => {
      observer.observe(title);
    });
  }

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', animateHeroTitle);
</script>